{% extends 'base.html' %}
{% block content %}
<style>
.checkout {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 90vh;
    padding: 3rem 2rem;
    color: #fff;
    text-align: center;
    font-family: 'Poppins', sans-serif;
    background-color: rgba(0,0,0,0.05);
}

.checkout h2 {
    font-size: 3rem;
    margin-bottom: 2rem;
    color: #ffd6ff;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
}

.checkout form {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(6px);
    padding: 2.5rem 2.5rem;
    border-radius: 15px;
    width: 100%;
    max-width: 500px;
}

.checkout label {
    display: block;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #ffeaff;
}

.checkout input, .checkout select {
    width: 100%;
    padding: 0.9rem;
    border: 1px solid rgba(255,255,255,0.5);
    border-radius: 10px;
    font-size: 1rem;
    font-family: inherit;
    background: rgba(255,255,255,0.1);
    color: #fff;
    backdrop-filter: blur(4px);
    transition: border-color 0.3s ease, background-color 0.3s ease;
}

.checkout input::placeholder, .checkout select {
    color: rgba(255,255,255,0.7);
}

/* ‚≠ê Purple focus border + purple highlight background */
.checkout input:focus, .checkout select:focus {
    border-color: #c56bff !important;     /* Purple border */
    background-color: rgba(197, 107, 255, 0.15) !important;  /* Soft purple glow */
    outline: none;
}

.checkout button {
    margin-top: 1.5rem;
    width: 100%;
    padding: 0.9rem;
    background-color: rgba(180, 100, 230, 0.85);
    color: #fff;
    border: none;
    border-radius: 10px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

.checkout button:hover {
    background-color: rgba(210, 140, 255, 1);
    transform: scale(1.02);
}

.checkout .order-summary {
    margin-top: 2rem;
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(4px);
    padding: 1.5rem;
    border-radius: 12px;
    max-width: 500px;
    width: 100%;
    text-align: left;
    color: #fff;
}

.checkout .order-summary h4 {
    margin-bottom: 1rem;
    color: #ffd6ff;
}

.checkout .order-summary li {
    padding: 0.5rem 0;
    display: flex;
    justify-content: space-between;
}

@media (max-width: 600px) {
    .checkout h2 {
        font-size: 2.2rem;
    }
    .checkout form {
        padding: 2rem;
    }
}
</style>

<section class="checkout">
    <h2>üí≥ Checkout</h2>

    {% if cart_items %}
    <form method="POST">
        <!-- Shipping Details -->
        <label for="fullname">Full Name</label>
        <input type="text" name="fullname" id="fullname" placeholder="Your full name" required>

        <label for="address">Address</label>
        <input type="text" name="address" id="address" placeholder="Your address" required>

        <label for="phone">Phone</label>
        <input type="text" name="phone" id="phone" placeholder="Your phone number" required>

        <!-- Payment Method -->
        <label for="payment">Payment Method</label>
        <select name="payment" id="payment" required
                style="color:#fff; background-color:rgba(255,255,255,0.15);">
            <option value="" disabled selected style="color:#000;">Select a payment method</option>
            <option value="COD" style="color:#000;">Cash on Delivery (COD)</option>
            <option value="GCash" style="color:#000;">GCash</option>
            <option value="PayPal" style="color:#000;">PayPal</option>
            <option value="Credit Card" style="color:#000;">Credit/Debit Card</option>
        </select>

        <button type="submit">Place Order</button>
    </form>

    <!-- Order Summary -->
    <ul class="order-summary">
        <h4>Order Summary</h4>
        {% for item in cart_items %}
        <li>
            <span>{{ item['name'] }}</span>
            <span>‚Ç±{{ '%.2f'|format(item.item_total) }}</span>
        </li>
        {% endfor %}
        <li style="font-weight:600; border-top:1px solid rgba(255,255,255,0.3); padding-top:0.5rem;">
            <span>Total</span>
            <span>‚Ç±{{ '%.2f'|format(total) }}</span>
        </li>
    </ul>

    {% else %}
    <p style="margin-top:2rem;">Your cart is empty.
        <a href="{{ url_for('shop') }}" style="color:#ffd6ff;">Shop now!</a>
    </p>
    {% endif %}
</section>
{% endblock %}
